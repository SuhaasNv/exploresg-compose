# =============================================================================
# ExploreSG - Compose Environment (copy to .env and fill real values)
# =============================================================================

# ---------------------------
# Database (PostgreSQL)
# ---------------------------
POSTGRES_DB=exploresg
POSTGRES_USER=exploresguser
POSTGRES_PASSWORD=exploresgpass

# Spring datasource used by all backend services (host must remain 'postgres')
SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/${POSTGRES_DB}
SPRING_DATASOURCE_USERNAME=${POSTGRES_USER}
SPRING_DATASOURCE_PASSWORD=${POSTGRES_PASSWORD}
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# ---------------------------
# Frontend runtime (env.js)
# ---------------------------
# Backend API bases (must match compose port mappings)
API_BASE_URL=http://localhost:8081
FLEET_API_BASE_URL=http://localhost:8082

# Required for Google OAuth (MUST match below audience)
GOOGLE_CLIENT_ID=182715694192-6q156lo1066sf1vi4o99kmfd1b22qqi7.apps.googleusercontent.com

# Required for map rendering
MAPBOX_TOKEN=pk.eyJ1Ijoic3JlZS1yLW9uZSIsImEiOiJjbTY1OTJjemQxc25zMmpvdWQ2MWN2aDlvIn0.VMrL_nkV5-W7-T4AcEY3qA

# Optional flags
APP_ENV=demo
DEBUG=false

# ---------------------------
# Auth service (OAuth/JWT/CORS)
# ---------------------------
# MUST be base64-encoded (e.g. `openssl rand -base64 32`)
JWT_SECRET_KEY=CHANGE_ME_EXAMPLE_SECRET_KEY
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# Must EXACTLY equal GOOGLE_CLIENT_ID
OAUTH2_JWT_AUDIENCES=182715694192-6q156lo1066sf1vi4o99kmfd1b22qqi7.apps.googleusercontent.com

# Fixed for Google
OAUTH2_JWT_ISSUER_URI=https://accounts.google.com

# FE origin(s) allowed by backends (add 127.0.0.1 if needed)
CORS_ALLOWED_ORIGINS=http://localhost:3000

# ---------------------------
# Spring JPA / SQL init policy
# ---------------------------
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_SQL_INIT_MODE_AUTH=never
SPRING_SQL_INIT_MODE_FLEET=never
SPRING_SQL_INIT_MODE_BOOKING=always
SPRING_SQL_INIT_MODE_PAYMENT=always